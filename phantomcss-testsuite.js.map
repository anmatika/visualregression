{"version":3,"sources":["VisualRegression/phantomcss-testsuite.coffee"],"names":[],"mappings":"AAAA;AAAA,MAAA;;EAAA,EAAA,GAAK,OAAA,CAAQ,IAAR;;EACL,UAAA,GAAa,OAAA,CAAQ,4BAAR;;EAEb,MAAM,CAAC,IAAI,CAAC,KAAZ,CAAkB,wBAAlB,EAA4C,SAAC,IAAD;IACxC,UAAU,CAAC,IAAX,CACI;MAAA,WAAA,EAAa,4BAAb;MACA,cAAA,EAAgB,EAAE,CAAC,QAAH,CAAY,EAAE,CAAC,gBAAH,GAAsB,cAAlC,CADhB;MAEA,qBAAA,EAAuB,EAAE,CAAC,QAAH,CAAY,EAAE,CAAC,gBAAH,GAAsB,WAAlC,CAFvB;KADJ;IAKA,MAAM,CAAC,EAAP,CAAU,gBAAV,EAA4B,SAAC,GAAD;aAAS,IAAC,CAAA,IAAD,CAAM,GAAN;IAAT,CAA5B;IACA,MAAM,CAAC,EAAP,CAAU,OAAV,EAAmB,SAAC,GAAD;aAAS,IAAC,CAAA,GAAD,CAAK,yBAAA,GAA4B,GAAjC;IAAT,CAAnB;IACA,MAAM,CAAC,EAAP,CAAU,gBAAV,EAA4B,SAAC,GAAD;aACzB,MAAM,CAAC,GAAP,CAAW,uBAAA,GAA0B,GAArC,EAA0C,SAA1C;IADyB,CAA5B;IAGA,MAAM,CAAC,KAAP,CAAa,4CAAb;IACA,MAAM,CAAC,QAAP,CAAgB,IAAhB,EAAsB,GAAtB;IACA,MAAM,CAAC,IAAP,CAAY,SAAA;aACX,UAAU,CAAC,UAAX,CAAsB,aAAtB,EAAqC,YAArC;IADW,CAAZ;IAGA,MAAM,CAAC,IAAP,CAAY,SAAA;MACV,MAAM,CAAC,KAAP,CAAa,cAAb;aACA,MAAM,CAAC,eAAP,CAAuB,UAAvB,EAAmC,CAAC,SAAA;eACnC,UAAU,CAAC,UAAX,CAAsB,UAAtB,EAAkC,oBAAlC;MADmC,CAAD,CAAnC,EAEG,SAAA;eACF,MAAM,CAAC,IAAI,CAAC,IAAZ,CAAiB,0BAAjB;MADE,CAFH;IAFU,CAAZ;IAOA,MAAM,CAAC,IAAP,CAAY,SAAA;MACV,MAAM,CAAC,QAAP,CAAgB,WAAhB,EAA6B,QAA7B;MACA,MAAM,CAAC,QAAP,CAAgB,WAAhB,EAA6B,QAA7B;MACA,MAAM,CAAC,KAAP,CAAa,cAAb;aACA,MAAM,CAAC,eAAP,CAAuB,eAAvB,EAAwC,CAAC,SAAA;eACrC,UAAU,CAAC,UAAX,CAAsB,iBAAtB,EAAyC,iBAAzC;MADqC,CAAD,CAAxC,EAEG,SAAA;eACE,MAAM,CAAC,IAAI,CAAC,IAAZ,CAAiB,4BAAjB;MADF,CAFH;IAJU,CAAZ;IASA,MAAM,CAAC,IAAP,CAAY,SAAA;aAET,UAAU,CAAC,UAAX,CAAA;IAFS,CAAZ;;AAIA;;;WAEA,MAAM,CAAC,GAAP,CAAW,SAAA;MACT,OAAO,CAAC,GAAR,CAAY,YAAZ;aAEA,MAAM,CAAC,IAAI,CAAC,IAAZ,CAAA;IAHS,CAAX;EAtCwC,CAA5C;AAHA","file":"VisualRegression/phantomcss-testsuite.js","sourceRoot":"/source/","sourcesContent":["fs = require('fs')\r\nphantomcss = require('../node_modules/phantomcss')\r\n\r\ncasper.test.begin 'Budgeting visual tests', (test) ->\r\n    phantomcss.init\r\n        libraryRoot: '../node_modules/phantomcss'\r\n        screenshotRoot: fs.absolute(fs.workingDirectory + '/screenshots')\r\n        failedComparisonsRoot: fs.absolute(fs.workingDirectory + '/failures')\r\n\r\n    casper.on 'remote.message', (msg) -> @echo msg\r\n    casper.on 'error', (err) -> @die 'PhantomJS has errored: ' + err\r\n    casper.on 'resource.error', (err) ->\r\n       casper.log 'Resource load error: ' + err, 'warning'\r\n\r\n    casper.start 'http://sievo082.sievofi.local:55555/AnttiM'\r\n    casper.viewport 1024, 768\r\n    casper.then ->\r\n    \tphantomcss.screenshot '#login-logo', 'login logo'\r\n\r\n    casper.then ->\r\n      casper.click '#loginButton'\r\n      casper.waitForSelector '.message', (->\r\n    \t  phantomcss.screenshot '.message', 'error message span'\r\n      ), ->\r\n    \t  casper.test.fail 'Should see error message'\r\n\r\n    casper.then ->\r\n      casper.sendKeys('#UserName', 'anttim')\r\n      casper.sendKeys('#Password', 'anttim')\r\n      casper.click '#loginButton'\r\n      casper.waitForSelector '#logoutButton', (->\r\n          phantomcss.screenshot '#navigationMenu', 'navigation menu'\r\n      ), ->\r\n           casper.test.fail 'Should see navigation menu'\r\n\r\n    casper.then -> \r\n       #compare screenshots\r\n       phantomcss.compareAll()\r\n\r\n    ###\r\n    Casper runs tests###\r\n    casper.run ->\r\n      console.log '\\nTHE END.'#\r\n      # phantomcss.getExitStatus()\r\n      casper.test.done()\r\n\r\n"]}