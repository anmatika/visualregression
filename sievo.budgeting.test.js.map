{"version":3,"sources":["ScriptTests/VisualRegression/sievo.budgeting.test.coffee"],"names":[],"mappings":"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","file":"ScriptTests/VisualRegression/sievo.budgeting.test.js","sourceRoot":"/source/","sourcesContent":["paths = require('./common/sievo.module-paths')\r\nphantomcss = require(paths.phantomCss)\r\nsettings = require(paths.sievoSettings)\r\nloginmodule = require(paths.sievoLogin)\r\ndebug = require(paths.sievoDebug)\r\nsievo = require(paths.sievoCommon)\r\n\r\ncasper.captureBudgetingMain = (screenshotName)->\r\n      @waitForText 'Manage budgets', -> sievo.screenshot '.budgetFrames', screenshotName\r\n\r\ncasper.captureNewBudgetRound = ->\r\n      @waitForResource /w*dimensionsToExclude=Time\\b/, -> sievo.screenshot '#new-budgetround-panel', 'new budget round panel'\r\n\r\ncasper.createNewBudgetRound = ->\r\n    @fill '#createForm', { 'Description': 'Foo' }, false\r\n    @click '#createButton'\r\n\r\ncasper.createNewBudgetFrame = ->\r\n    @fill '#createForm', { 'Description': 'Bar' }, false\r\n    @click '#createButton'\r\n\r\ncasper.captureNewFrame = ->\r\n      @waitForText 'New budget frame', -> sievo.screenshot '#new-budgetframe', 'new budget frame'\r\n\r\ncasper.test.begin 'Budgeting visual tests', (test) ->\r\n    settings.init()\r\n    loginmodule.login()\r\n    debug.enableHttpListeners()\r\n\r\n    casper.then -> @click 'a[href$=Budgeting]'\r\n    casper.then -> @captureBudgetingMain 'budgeting main initial'\r\n    casper.then -> @click '#label-year-2016 a'\r\n    casper.then -> @captureNewBudgetRound()\r\n    casper.then -> @createNewBudgetRound()\r\n    casper.then -> @captureBudgetingMain 'budgeting main - round added'\r\n    casper.then -> @waitForSelector '#round-id-1', -> @click '#round-id-1 a'\r\n    casper.then -> @captureNewFrame()\r\n    casper.then -> @createNewBudgetFrame()\r\n    casper.then -> @click '#okButton'\r\n    casper.then -> @captureBudgetingMain 'budgeting main - frame added'\r\n\r\n    casper.then -> phantomcss.compareSession()\r\n\r\n    casper.run ->\r\n      console.log '\\nTHE END.'\r\n      casper.test.done()\r\n      casper.test.renderResults(true, 0, 'test-results.xml')\r\n\r\n"]}